# 프로시저(Procedure)

## 1. 정의
- 데이터베이스에 저장되어 있는, 특정 작업을 수행하는 **SQL 문들의 집합**
- 주로 반복적인 데이터 처리, 비즈니스 로직 실행, 성능 최적화를 위해 사용  
  *(쉽게 말해 DB 안에 저장된 함수나 메서드 개념)*

---

## 2. 프로시저 특징
- **위치** : 데이터베이스 내부에 저장됨 (서버 측 실행)
- **구성** : SQL문 + 제어문(조건문, 반복문 등)
- **호출 방식** : 애플리케이션이나 다른 SQL문에서 `CALL` 또는 `EXEC` 명령으로 실행
- **성능** : 미리 컴파일되어 저장되므로, 반복 호출 시 빠름
- **보안** : 직접 테이블 접근 대신 프로시저를 통해 작업하여 권한 제어 가능
- **재사용성** : 여러 프로그램에서 동일한 프로시저 호출 가능

---

## 3. 주요 용도
- **복합 작업 로직 처리** : 여러 SQL 문을 묶어서 한 번에 실행
- **성능 최적화** : 네트워크 왕복 감소 및 SQL 실행 계획 재사용
- **보안 강화** : 테이블 직접 접근을 막고, 프로시저를 통해서만 데이터 변경 허용
- **일관성 유지** : 동일한 로직을 여러 곳에서 호출하여 코드 중복 방지

---

## 4. 문법 예시
- **생성** : CREATE OR REPLACE PROCEDURE
- **매개변수** : IN(입력 전용), OUT(출력 전용), IN OUT(입력 및 출력 모두 가능)
- **BEGIN ~ END** : 실행할 SQL 문과 로직 작성
- **COMMUIT** : 트랜잭션 확정
```sql
CREATE OR REPLACE PROCEDURE update_salary (
    p_emp_id IN NUMBER,
    p_rate   IN NUMBER
)
IS
BEGIN
    UPDATE employees
    SET salary = salary * p_rate
    WHERE employee_id = p_emp_id;
    
    COMMIT;
END;
