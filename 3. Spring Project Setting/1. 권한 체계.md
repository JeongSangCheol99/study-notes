## 1. 권한 체계 

- **Role + Permission**을 포함한 전체 설계
- **Role(역할)** : 권한 묶음(= 직급/직책처럼 큰 범위)  
  예: `Admin`, `User`, `Manager`...
- **Permission(권한)** : 세부 기능 접근 허용(= 문서 열람, 결재 승인)

---

## 2. 권한 관리 기본 개념

### Authentication(인증)
사용자가 누구인지 확인 ex) 회사 출입 시 신분증 검사

- **세션 기반 인증**
  - 서버에 세션 저장, 쿠키(`JSESSIONID`)로 식별
  - 장점: 간단하며 서버 제어 가능
  - 단점: 서버 메모리/DB 부하, 확장성 제한
- **토큰 기반 인증(JWT)**
  - 클라이언트에 토큰 발급, 요청 시 토큰 전송
  - 장점: 서버 무상태, 확장성 높음
  - 단점: 토큰 탈취 시 위험, 폐기 어려움
- **OAuth 2.0 / OpenID Connect**
  - 구글, 카카오 로그인 같은 소셜 인증
  - 장점: 외부 계정 연동 가능
  - 단점: 초기 구현 난이도 높음

### Authorization(인가)
인증된 사용자가 무엇을 할 수 있는지 결정 ex) 사무실 접근 권한 확인

- **URL 단위 인가**
  - `/admin/**` → `ROLE_ADMIN`
- **메서드 단위 인가**
  - `@PreAuthorize("hasRole('ADMIN')")`
- **데이터 단위 인가 (Row-Level Security)**
  - ex) 게시글은 작성자만 수정 가능
- **필드 단위 인가**
  - ex) JSON 응답에서 민감 정보 필드 숨기기

### Access Control(접근 제어)
`Authorization`을 구체적으로 구현한 정책/방법 ex) 회사의 보안 규정

### Privilege(특권)
특정 기능 수행을 허락하는 권한 ex) 결재 승인, 데이터 삭제

### Permission(권한)
특정 리소스/기능에 대한 접근 허용

### Role(역할)
`Permission`을 묶어둔 집합

### GrantedAuthority
Spring Security에서 Role-Permission을 통칭

---

## 3. 주요 권한 설계 모델

### RBAC (Role-Based Access Control, 역할 기반 접근 제어)
사용자 → 역할(Role) → 권한(Permission) 순서로 권한 부여 ex) `User(정상철)` → `Role(ROLE_ADMIN)` → `Permission(POST_CREATE, POST_DELETE)`

- 장점: 관리가 쉽고 직관적
- 단점: 세부 제어(예외 케이스 처리)가 어려움

### PBAC (Permission-Based Access Control, 권한 기반 접근 제어)
사용자 → 권한(Permission) 직접 부여 ex) `User(정상철)` → `Permission(POST_CREATE, POST_DELETE)`

- 장점: 세밀한 제어 가능
- 단점: 권한 관리 포인트 증가, 대규모 시스템에서 복잡해짐

### ABAC (Attribute-Based Access Control, 속성 기반 접근 제어)
사용자 속성 + 리소스 속성 + 환경 조건 등을 조합해 접근 허용 여부 판단 ex) `IF(user.dept == "IT 서비스팀" AND resource.type == "보고서" AND time < 18시) → 접근 허용`

- 장점: 동적이고 유연
- 단점: 정책 설계와 관리가 복잡

### Hybrid (RBAC + PBAC)
기본은 RBAC 구조, 특정 예외나 기능은 Permission으로 별도 부여 (실무에서 가장 많이 사용) ex)`ROLE_MANAGER` → `{POST_READ, POST_WRITE}` + 정상철은 `POST_DELETE` 권한만 추가 부여

---

## 4. Spring Security에서의 적용

- **RBAC** : `ROLE_ADMIN`, `ROLE_USER` → `hasRole("ADMIN")`
- **PBAC** : `POST_READ`, `POST_WRITE` → `hasAuthority("POST_READ")`
- **Hybrid** : Role 부여 후 필요시 권한 개별 부여
